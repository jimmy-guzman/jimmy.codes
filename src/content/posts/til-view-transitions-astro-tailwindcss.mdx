---
title: TIL - View Transitions (Astro + Tailwind v4)
publishDate: 2025-08-16
description: Today I learned about page-to-page transitions with Astro and Tailwind v4. No router, no JS.
keywords: [
"view transitions",
"cross document view transitions",
"view transitions api",
"astro",
"tailwind v4",
"page transitions css",
"astro view transitions",
]
tags: [Astro, Tailwind CSS, Frontend, TIL]
---

### TL;DR

- Add global `@view-transition { navigation: auto; }`.
- Do **not** name `body`.
- Use one `main` and one `title` element per page.
- Avoid naming containers that overflow.
- Keep animations short and subtle.

---

## Implementation

### CSS

Here is the full CSS I am using:

```css
@view-transition {
  navigation: auto;
} /* enable page to page transitions */

@theme {
  --vt: 180ms;
  --ease: cubic-bezier(0.2, 0.8, 0.2, 1);
}

/* page fade and named parts */
::view-transition-group(root),
::view-transition-group(main),
::view-transition-group(title) {
  animation-duration: var(--vt);
  animation-timing-function: var(--ease);
}

::view-transition-old(root),
::view-transition-new(root) {
  mix-blend-mode: normal; /* keep text crisp */
}

::view-transition-old(title) {
  transform: translateY(2px);
  opacity: 0.98;
}
::view-transition-new(title) {
  transform: translateY(0);
  opacity: 1;
}

@media (prefers-reduced-motion: reduce) {
  ::view-transition-group(*),
  ::view-transition-old(*),
  ::view-transition-new(*) {
    animation: none !important;
  }
}
```

The important part is `@view-transition { navigation: auto; }`. This tells the browser to animate same-origin, user-initiated navigation automatically.

---

### Layout

The next step is adding names to key elements in your layout:

```html
<!-- layout snippet -->
<body>
  <!-- do not name the body -->
  <main class="[view-transition-name:main]">
    <h1 class="[view-transition-name:title]">Page Title</h1>
    <slot />
  </main>
</body>
```

- The `body` is reserved and automatically treated as `root`.
- You can add more named elements like `main` and `title` to customize the effect.

---

## Notes

Here are a few lessons I picked up while implementing this:

- **Do not name the `body`.** The reserved name `root` automatically handles the full-page cross fade.
- **Keep your global rule truly global.** The `@view-transition` at-rule must be in CSS that loads on every page.
- **Only same-origin, user-initiated navigation will animate.** New tabs, downloads, hard reloads, or cross-origin jumps will not transition.
- **Names must match across pages** and there should be exactly **one element per name**.
- **Named elements clip their contents.** Avoid naming containers that hold dropdowns, tooltips, or anything that needs to overflow.
- **Keep text sharp.** Use a short fade (`~180ms`) with gentle easing and minimal movement. Avoid blur or scale.
- **Opt-out per element:** Use `class="[view-transition-name:none]"`. `none` is a keyword, not a custom name.
- **For nav bars:** Leave the whole nav unnamed unless you want it pinned during transitions. If pinned, set `animation: none;` for its group.

---

## Quick Debug Checklist

If transitions are not firing, here is what to check:

- Temporarily increase duration to confirm it is working:

  ```css
  ::view-transition-group(root) {
    animation-duration: 600ms;
  }
  ```

- In DevTools, open [the Animations panel](https://developer.chrome.com/docs/devtools/css/animations) and click a link.
  - `Command+Shift+P` â†’ **Show Animations**

- Make sure your CSS is loaded globally and all pages are same-origin.

---

## Extras

Here are a few optional tweaks I am using:

```css
/* Pin header or footer during fades */
::view-transition-group(nav),
::view-transition-group(footer) {
  animation: none;
}

/* Slightly faster title than body */
::view-transition-group(title) {
  animation-duration: 150ms;
}
::view-transition-group(main) {
  animation-duration: 180ms;
}
```

---

## References

- [MDN Overview](https://developer.mozilla.org/en-US/docs/Web/API/View_Transition_API)
- [Chrome Docs](https://developer.chrome.com/docs/web-platform/view-transitions)
- [Astro View Transitions Guide](https://docs.astro.build/en/guides/view-transitions)
